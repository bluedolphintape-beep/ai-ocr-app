<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Skaner Email</title>
</head>

<body style="font-family: Arial; text-align:center; padding:40px">

<h2>ðŸ“¸ Skanuj email</h2>

<input 
type="file"
accept="image/*"
capture="environment"
id="camera"
/>

<br><br>

<button onclick="upload()">Skanuj</button>

<p id="result"></p>

<script>

async function upload() {

const file = document.getElementById("camera").files[0];

if(!file){
alert("ZrÃ³b zdjÄ™cie");
return;
}

const form = new FormData();
form.append("image", file);

document.getElementById("result").innerText = "SkanujÄ™...";

const res = await fetch("/ocr", {
method:"POST",
body: form
});

const data = await res.json();

document.getElementById("result").innerText =
"Email: " + data.email;

}

</script>

</body>
</html>
